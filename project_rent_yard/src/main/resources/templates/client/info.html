<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Info</title>
    <th:block th:replace="layout/layout :: library"></th:block>
    <link rel="stylesheet" href="/css/info.css">
</head>
<body>
<div th:replace="layout/navbar:: navbar"></div>

<div class="container profile-wrapper">
    <div class="profile-card">

        <h2>Th√¥ng tin c√° nh√¢n</h2>

        <div class="info-row">
            <span>H·ªç t√™n</span>
            <strong th:text="${session.user.name}"></strong>
        </div>

        <div class="info-row">
            <span>S·ªë ƒëi·ªán tho·∫°i</span>
            <strong th:text="${session.user.phone}"></strong>
        </div>

        <div class="vip-section">
            <div class="vip-header">
                <span>H·∫°ng kh√°ch h√†ng</span>

                <span class="vip-badge"
                      th:if="${session.user.customerType.name() == 'VIP'}">
                    üåü VIP
                </span>

                <span class="normal-badge"
                      th:if="${session.user.customerType.name() != 'VIP'}">
                    Th√†nh vi√™n
                </span>
            </div>

            <!-- PROGRESS n·∫øu ch∆∞a VIP -->
            <div th:if="${session.user.customerType.name() != 'VIP'}">

                <div class="progress-bar">
                    <div class="progress-fill"
                         th:style="'width:' + (${session.user.totalSpent} * 100 / 2000000) + '%'">
                    </div>
                </div>

                <div class="vip-text">
                    C√≤n
                    <strong th:text="${2000000 - session.user.totalSpent}"></strong>
                    ‚Ç´ ƒë·ªÉ tr·ªü th√†nh VIP
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mt-5">

    <h3 class="mb-4">L·ªãch s·ª≠ ƒë·∫∑t s√¢n</h3>

    <div class="row g-4" th:each="booking : ${bookings}">

        <div class="col-md-6 col-lg-4">
            <div class="card shadow-sm h-100 booking-card">

                <div class="card-body d-flex flex-column">

                    <h5 class="card-title"
                        th:text="${booking.field.name}">
                        T√™n s√¢n
                    </h5>
                    <p class="text-muted mb-2">
                        üìÖ
                        <span th:text="${booking.bookingDate}"></span>
                    </p>

                    <div class="mt-auto"></div>

                    <a th:href="@{/userInfo/review/{fieldId}(fieldId=${booking.field.id})}"
                       class="btn btn-outline-primary w-100">
                        ‚úçÔ∏è Vi·∫øt Review
                    </a>
                </div>
            </div>
        </div>
    </div>

</div>






</body>
</html>